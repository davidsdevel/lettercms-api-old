<!DOCTYPE html>
<html>
<head>
  <title>Test</title>
</head>
<body>
  <div id='main'></div>
  <button onclick="login()">Login</button>
  <script>
    function login() {
      FB.login(res => {
        FB.api('/me/accounts', {
          fields: 'name'
        })
      }, {scope: 'pages_show_list'});
    }
    function init() {
      let js;
      const fjs = document.getElementsByTagName('script')[0];

      if (!document.getElementById('facebook-jssdk')) {
        js = document.createElement('script');
        js.id = 'facebook-jssdk';
        js.src = 'https://connect.facebook.net/es_LA/sdk.js';
        js.defer = true;

        fjs.parentNode.insertBefore(js, fjs);
      }
      window.fbAsyncInit = () => {
        window.FB.init({
          appId: '337231497026333',
          xfbml: true,
          autoLogAppEvents: true,
          version: 'v8.0',
        });
        window.FB.AppEvents.logPageView();
        FB.getLoginStatus(console.log)
      };
    }

    document.addEventListener('DOMContentLoaded', init, false);
  </script>
</body>
</html>